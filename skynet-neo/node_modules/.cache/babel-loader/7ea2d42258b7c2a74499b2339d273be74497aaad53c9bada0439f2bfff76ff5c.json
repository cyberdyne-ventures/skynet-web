{"ast":null,"code":"var _jsxFileName = \"/Users/anirudh/Documents/Cyberdyne Ventures/skynet-web/skynet-neo/src/components/NetworkGraph/NetworkGraph.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef } from \"react\";\nimport { runForceGraph } from \"./runForceGraph\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport let NodeGroup = /*#__PURE__*/function (NodeGroup) {\n  NodeGroup[NodeGroup[\"ENTITY\"] = 1] = \"ENTITY\";\n  NodeGroup[NodeGroup[\"SEVERITY_CLUSTER\"] = 2] = \"SEVERITY_CLUSTER\";\n  NodeGroup[NodeGroup[\"NAME_CLUSTER\"] = 3] = \"NAME_CLUSTER\";\n  NodeGroup[NodeGroup[\"ALERT\"] = 4] = \"ALERT\";\n  NodeGroup[NodeGroup[\"LOW_SEVERITY\"] = 5] = \"LOW_SEVERITY\";\n  NodeGroup[NodeGroup[\"MEDIUM_SEVERITY\"] = 6] = \"MEDIUM_SEVERITY\";\n  NodeGroup[NodeGroup[\"HIGH_SEVERITY\"] = 7] = \"HIGH_SEVERITY\";\n  return NodeGroup;\n}({});\nexport let NodeType = /*#__PURE__*/function (NodeType) {\n  NodeType[\"ENTITY\"] = \"ENTITY\";\n  NodeType[\"SEVERITY_CLUSTER\"] = \"SEVERITY_CLUSTER\";\n  NodeType[\"NAME_CLUSTER\"] = \"NAME_CLUSTER\";\n  NodeType[\"ALERT\"] = \"ALERT\";\n  return NodeType;\n}({});\nconst ForceGraph = ({\n  nodes,\n  links,\n  width,\n  height,\n  strength,\n  labelNodeTypes = ['ENTITY', 'SEVERITY_CLUSTER', 'NAME_CLUSTER'] // default nodes to be labelled, override this prop to label other node types\n}) => {\n  _s();\n  const containerRef = useRef(null);\n  useEffect(() => {\n    let destroyFn;\n    if (containerRef.current) {\n      const {\n        destroy\n      } = runForceGraph(containerRef.current, links, nodes, strength, labelNodeTypes);\n      destroyFn = destroy;\n    }\n    return destroyFn;\n  }, [nodes, links, strength]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      ref: containerRef,\n      style: {\n        width,\n        height,\n        border: '1px solid lightgrey',\n        borderRadius: 8,\n        overflow: 'hidden'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"graph-tooltip\",\n      style: {\n        position: 'absolute',\n        zIndex: 100\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true);\n};\n_s(ForceGraph, \"8puyVO4ts1RhCfXUmci3vLI3Njw=\");\n_c = ForceGraph;\nexport default ForceGraph;\nvar _c;\n$RefreshReg$(_c, \"ForceGraph\");","map":{"version":3,"names":["React","useEffect","useRef","runForceGraph","jsxDEV","_jsxDEV","Fragment","_Fragment","NodeGroup","NodeType","ForceGraph","nodes","links","width","height","strength","labelNodeTypes","_s","containerRef","destroyFn","current","destroy","children","ref","style","border","borderRadius","overflow","fileName","_jsxFileName","lineNumber","columnNumber","id","position","zIndex","_c","$RefreshReg$"],"sources":["/Users/anirudh/Documents/Cyberdyne Ventures/skynet-web/skynet-neo/src/components/NetworkGraph/NetworkGraph.tsx"],"sourcesContent":["import * as d3 from \"d3\";\nimport React, { useEffect, useRef } from \"react\";\nimport { runForceGraph } from \"./runForceGraph\";\n\n\nexport enum NodeGroup {\n  ENTITY = 1,\n  SEVERITY_CLUSTER = 2,\n  NAME_CLUSTER = 3,\n  ALERT = 4,\n\n  LOW_SEVERITY = 5,\n  MEDIUM_SEVERITY = 6,\n  HIGH_SEVERITY = 7,\n}\n\nexport enum NodeType {\n  ENTITY = 'ENTITY',\n  SEVERITY_CLUSTER = 'SEVERITY_CLUSTER',\n  NAME_CLUSTER = 'NAME_CLUSTER',\n  ALERT = 'ALERT',\n}\n\nexport interface Node extends d3.SimulationNodeDatum {\n  id: string;\n  index: number;\n  group: number;\n  count?: number;\n  type?: string;\n}\n\nexport interface Link {\n  source: Node;\n  target: Node;\n}\n\ntype Props = {\n  nodes: Node[];\n  links: Link[];\n  width: number | string;\n  height: number | string;\n  strength: number;\n  labelNodeTypes?: NodeType[keyof NodeType][]\n};\n\nconst ForceGraph: React.FC<Props> = ({\n  nodes,\n  links,\n  width,\n  height,\n  strength,\n  labelNodeTypes = ['ENTITY', 'SEVERITY_CLUSTER', 'NAME_CLUSTER'], // default nodes to be labelled, override this prop to label other node types\n}) => {\n  const containerRef = useRef<HTMLDivElement>(null);\n  useEffect(() => {\n    let destroyFn;\n\n    if (containerRef.current) {\n      const { destroy } = runForceGraph(\n        containerRef.current,\n        links,\n        nodes,\n        strength,\n        labelNodeTypes,\n      );\n      destroyFn = destroy;\n    }\n\n    return destroyFn;\n  }, [nodes, links, strength]);\n\n  return <>\n    <div ref={containerRef} style={{ width, height, border: '1px solid lightgrey', borderRadius: 8, overflow: 'hidden' }}></div>\n    <div id=\"graph-tooltip\" style={{ position: 'absolute', zIndex: 100 }}></div>\n  </>\n};\n\nexport default ForceGraph;\n"],"mappings":";;AACA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,MAAM,QAAQ,OAAO;AAChD,SAASC,aAAa,QAAQ,iBAAiB;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAGhD,WAAYC,SAAS,0BAATA,SAAS;EAATA,SAAS,CAATA,SAAS;EAATA,SAAS,CAATA,SAAS;EAATA,SAAS,CAATA,SAAS;EAATA,SAAS,CAATA,SAAS;EAATA,SAAS,CAATA,SAAS;EAATA,SAAS,CAATA,SAAS;EAATA,SAAS,CAATA,SAAS;EAAA,OAATA,SAAS;AAAA;AAWrB,WAAYC,QAAQ,0BAARA,QAAQ;EAARA,QAAQ;EAARA,QAAQ;EAARA,QAAQ;EAARA,QAAQ;EAAA,OAARA,QAAQ;AAAA;AA6BpB,MAAMC,UAA2B,GAAGA,CAAC;EACnCC,KAAK;EACLC,KAAK;EACLC,KAAK;EACLC,MAAM;EACNC,QAAQ;EACRC,cAAc,GAAG,CAAC,QAAQ,EAAE,kBAAkB,EAAE,cAAc,CAAC,CAAE;AACnE,CAAC,KAAK;EAAAC,EAAA;EACJ,MAAMC,YAAY,GAAGhB,MAAM,CAAiB,IAAI,CAAC;EACjDD,SAAS,CAAC,MAAM;IACd,IAAIkB,SAAS;IAEb,IAAID,YAAY,CAACE,OAAO,EAAE;MACxB,MAAM;QAAEC;MAAQ,CAAC,GAAGlB,aAAa,CAC/Be,YAAY,CAACE,OAAO,EACpBR,KAAK,EACLD,KAAK,EACLI,QAAQ,EACRC,cACF,CAAC;MACDG,SAAS,GAAGE,OAAO;IACrB;IAEA,OAAOF,SAAS;EAClB,CAAC,EAAE,CAACR,KAAK,EAAEC,KAAK,EAAEG,QAAQ,CAAC,CAAC;EAE5B,oBAAOV,OAAA,CAAAE,SAAA;IAAAe,QAAA,gBACLjB,OAAA;MAAKkB,GAAG,EAAEL,YAAa;MAACM,KAAK,EAAE;QAAEX,KAAK;QAAEC,MAAM;QAAEW,MAAM,EAAE,qBAAqB;QAAEC,YAAY,EAAE,CAAC;QAAEC,QAAQ,EAAE;MAAS;IAAE;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAM,CAAC,eAC5H1B,OAAA;MAAK2B,EAAE,EAAC,eAAe;MAACR,KAAK,EAAE;QAAES,QAAQ,EAAE,UAAU;QAAEC,MAAM,EAAE;MAAI;IAAE;MAAAN,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAM,CAAC;EAAA,eAC5E,CAAC;AACL,CAAC;AAACd,EAAA,CA9BIP,UAA2B;AAAAyB,EAAA,GAA3BzB,UAA2B;AAgCjC,eAAeA,UAAU;AAAC,IAAAyB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}