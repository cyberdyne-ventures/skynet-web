{"ast":null,"code":"import axios from 'axios';\nexport function useGetEntityDetailTextData() {\n  const getEntityDetailText = async entityName => {\n    const entityDetailResponse = await axios.post(`${process.env.REACT_APP_DB_URL}/tx/commit`, JSON.stringify({\n      statements: [{\n        statement: `match (m:ALERT) where m.entity = '${entityName}' return m LIMIT 2500`\n      }]\n    }), {\n      headers: {\n        Authorization: `Basic ${btoa(`${process.env.REACT_APP_USERNAME}:${process.env.REACT_APP_PASSWORD}`)}`,\n        Accept: 'application/json;charset=UTF-8',\n        'Content-Type': 'application/json'\n      }\n    });\n    const alertList = [];\n    entityDetailResponse.data.results.forEach(alertSet => {\n      alertSet.data.forEach(alertRows => {\n        alertList.push(...alertRows.row);\n      });\n    });\n    return alertList;\n  };\n  return {\n    getEntityDetailText\n  };\n}","map":{"version":3,"names":["axios","useGetEntityDetailTextData","getEntityDetailText","entityName","entityDetailResponse","post","process","env","REACT_APP_DB_URL","JSON","stringify","statements","statement","headers","Authorization","btoa","REACT_APP_USERNAME","REACT_APP_PASSWORD","Accept","alertList","data","results","forEach","alertSet","alertRows","push","row"],"sources":["/Users/anirudh/Documents/Cyberdyne Ventures/skynet-web/src/hooks/useGetEntityDetailText/useGetEntityDetailTextData.ts"],"sourcesContent":["import axios from 'axios';\r\nimport { AlertNodeData, DataListResponse } from '../../common/types/backend-models';\r\n\r\nexport function useGetEntityDetailTextData() {\r\n  const getEntityDetailText = async (entityName: string) => {\r\n    const entityDetailResponse = await axios.post<DataListResponse<AlertNodeData>>(`${process.env.REACT_APP_DB_URL}/tx/commit`, JSON.stringify({\r\n      statements: [\r\n        {\r\n          statement: `match (m:ALERT) where m.entity = '${entityName}' return m LIMIT 2500`,\r\n        },\r\n      ],\r\n    }), {\r\n      headers: {\r\n        Authorization: `Basic ${btoa(`${process.env.REACT_APP_USERNAME}:${process.env.REACT_APP_PASSWORD}`)}`,\r\n        Accept: 'application/json;charset=UTF-8',\r\n        'Content-Type': 'application/json',\r\n      }\r\n    });\r\n\r\n    const alertList: AlertNodeData[] = [];\r\n    entityDetailResponse.data.results.forEach(alertSet => {\r\n      alertSet.data.forEach(alertRows => {\r\n        alertList.push(...alertRows.row)\r\n      })\r\n    });\r\n\r\n    return alertList;\r\n  }\r\n\r\n  return {\r\n    getEntityDetailText\r\n  }\r\n}"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAGzB,OAAO,SAASC,0BAA0BA,CAAA,EAAG;EAC3C,MAAMC,mBAAmB,GAAG,MAAOC,UAAkB,IAAK;IACxD,MAAMC,oBAAoB,GAAG,MAAMJ,KAAK,CAACK,IAAI,CAAkC,GAAGC,OAAO,CAACC,GAAG,CAACC,gBAAgB,YAAY,EAAEC,IAAI,CAACC,SAAS,CAAC;MACzIC,UAAU,EAAE,CACV;QACEC,SAAS,EAAE,qCAAqCT,UAAU;MAC5D,CAAC;IAEL,CAAC,CAAC,EAAE;MACFU,OAAO,EAAE;QACPC,aAAa,EAAE,SAASC,IAAI,CAAC,GAAGT,OAAO,CAACC,GAAG,CAACS,kBAAkB,IAAIV,OAAO,CAACC,GAAG,CAACU,kBAAkB,EAAE,CAAC,EAAE;QACrGC,MAAM,EAAE,gCAAgC;QACxC,cAAc,EAAE;MAClB;IACF,CAAC,CAAC;IAEF,MAAMC,SAA0B,GAAG,EAAE;IACrCf,oBAAoB,CAACgB,IAAI,CAACC,OAAO,CAACC,OAAO,CAACC,QAAQ,IAAI;MACpDA,QAAQ,CAACH,IAAI,CAACE,OAAO,CAACE,SAAS,IAAI;QACjCL,SAAS,CAACM,IAAI,CAAC,GAAGD,SAAS,CAACE,GAAG,CAAC;MAClC,CAAC,CAAC;IACJ,CAAC,CAAC;IAEF,OAAOP,SAAS;EAClB,CAAC;EAED,OAAO;IACLjB;EACF,CAAC;AACH","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}